<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scent Palette - Discovery</title>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* --- TEMEL AYARLAR --- */
        :root {
            --bg-color: #080808;
            --text-color: #fff;
            --accent-gold: #FFD700;
            --card-bg: #1a1a1a;
            --glass: rgba(255, 255, 255, 0.03); /* Ã‡ok hafif saydamlÄ±k */
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Poppins', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            overflow: hidden;
            height: 100vh; width: 100vw;
        }

        /* --- DÃœZELTÄ°LMÄ°Åž ARKA PLAN (CSS Ä°LE Ã‡Ä°ZÄ°LMÄ°Åž ÅžÄ°ÅžELER) --- */
        .background-flow {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; justify-content: space-between; gap: 2vw;
            z-index: 0; pointer-events: none; opacity: 0.25; /* GÃ¶rÃ¼nÃ¼rlÃ¼k ayarÄ± */
            padding: 0 20px;
        }

        .flow-col {
            display: flex; flex-direction: column; gap: 40px;
            width: 60px; flex-shrink: 0; align-items: center;
        }

        /* CSS ile Minik ÅžiÅŸe Ã‡izimi (Resim yÃ¼kleme derdi yok) */
        .css-bottle {
            width: 40px; height: 50px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 8px;
            position: relative;
        }
        .css-bottle::before { /* Kapak */
            content: ''; position: absolute; top: -10px; left: 10px;
            width: 16px; height: 8px; background: rgba(255, 215, 0, 0.7);
            border-radius: 2px;
        }
        .css-bottle::after { /* SÄ±vÄ± */
            content: ''; position: absolute; bottom: 2px; left: 2px;
            width: 32px; height: 30px; background: rgba(255, 255, 255, 0.1);
            border-radius: 0 0 5px 5px;
        }

        /* Animasyonlar */
        .flow-col.up { animation: scrollUp 25s linear infinite; }
        .flow-col.down { animation: scrollDown 30s linear infinite; }

        @keyframes scrollUp { from { transform: translateY(0); } to { transform: translateY(-50%); } }
        @keyframes scrollDown { from { transform: translateY(-50%); } to { transform: translateY(0); } }

        /* --- NAVÄ°GASYON --- */
        nav {
            position: fixed; top: 0; width: 100%; padding: 30px;
            display: flex; justify-content: center; gap: 40px; z-index: 1000;
        }
        nav a {
            text-decoration: none; color: #fff; font-family: 'Syne', sans-serif;
            font-weight: 700; text-transform: uppercase; font-size: 14px; letter-spacing: 1px;
            position: relative; transition: 0.3s; cursor: pointer;
        }
        nav a:hover { color: var(--accent-gold); }

        /* --- MODAL (ABOUT) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(10px);
            z-index: 2000; display: none; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s ease;
        }
        .modal-overlay.open { display: flex; opacity: 1; }
        .about-card {
            background: #111; border: 1px solid #333; padding: 40px; border-radius: 30px;
            text-align: center; max-width: 450px; width: 90%;
            transform: scale(0.9); transition: transform 0.3s;
        }
        .modal-overlay.open .about-card { transform: scale(1); }
        .close-modal { position: absolute; top: 20px; right: 25px; font-size: 24px; cursor: pointer; color: #666; }

        /* --- ANA KONTEYNER --- */
        .hero-section {
            height: 100vh; width: 100%; display: flex; justify-content: center; align-items: center;
            position: relative; z-index: 10;
        }

        /* --- EKRAN GEÃ‡Ä°ÅžLERÄ° --- */
        .screen { display: none; width: 100%; height: 100%; justify-content: center; align-items: center; }
        .screen.active { display: flex; animation: fadeIn 0.8s ease; }
        @keyframes fadeIn { from{opacity:0;} to{opacity:1;} }

        /* --- WELCOME PANEL --- */
        .glass-panel {
            background: #fff; color: #1a1a1a;
            padding: 60px; border-radius: 50px;
            text-align: center; box-shadow: 0 20px 80px rgba(0,0,0,0.8);
            max-width: 700px; width: 90%;
            display: flex; flex-direction: column; align-items: center;
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }

        /* --- CUTE BOTTLE --- */
        .char-wrapper { perspective: 800px; width: 100px; height: 140px; margin-bottom: 25px; }
        .bottle {
            width: 100%; height: 100%; position: relative;
            transform-style: preserve-3d; transition: transform 0.1s;
        }
        .b-cap {
            width: 70px; height: 30px; background: linear-gradient(45deg, #eee, #fff);
            margin: 0 auto 5px; border-radius: 6px; border: 1px solid #ccc;
        }
        .b-body {
            width: 100px; height: 100px; background: rgba(255,255,255,0.4);
            border: 2px solid rgba(255,255,255,0.8); border-radius: 16px;
            position: relative; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            box-shadow: inset 0 0 20px rgba(255,215,0,0.3);
        }
        .liquid {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 60%;
            background: rgba(255, 223, 0, 0.6);
            border-radius: 0 0 14px 14px;
            animation: slosh 3s infinite linear;
        }
        @keyframes slosh { 0%{transform:rotate(0deg) scale(1.1);} 50%{transform:rotate(3deg) scale(1.05);} 100%{transform:rotate(0deg) scale(1.1);} }

        .face { position: relative; z-index: 5; display: flex; flex-direction: column; align-items: center; gap: 8px; }
        .eyes { display: flex; gap: 18px; }
        .eye { width: 14px; height: 14px; background: #222; border-radius: 50%; position: relative; }
        .eye::after { content:''; width:5px; height:5px; background:#fff; border-radius:50%; position:absolute; top:2px; right:2px; }
        .mouth { width: 12px; height: 6px; border-bottom: 2px solid #222; border-radius: 0 0 12px 12px; }

        .title { font-family: 'Syne', sans-serif; font-size: 3.5rem; font-weight: 800; line-height: 1; margin-bottom: 20px; color: #111; }
        .subtitle { font-size: 1rem; color: #666; margin-bottom: 30px; font-weight: 500; }

        .btn-group { display: flex; gap: 15px; width: 100%; justify-content: center; }
        .btn {
            padding: 18px 40px; border-radius: 50px; border: none; font-weight: 600; font-size: 16px;
            cursor: pointer; transition: 0.3s; font-family: 'Syne', sans-serif; flex: 1;
        }
        .btn-gender { background: #f5f5f5; color: #333; border: 2px solid #eee; }
        .btn-gender:hover { background: #111; color: #fff; border-color: #111; transform: translateY(-3px); }

        /* --- QUIZ CONTAINER --- */
        .quiz-container {
            position: relative;
            width: 100%; max-width: 600px;
            min-height: 400px;
        }

        /* --- SORU KARTI (Kayan Efekt Ä°Ã§in) --- */
        .question-card {
            background: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 30px;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            width: 100%;
            position: absolute; /* Ãœst Ã¼ste binmeleri iÃ§in */
            top: 0; left: 0;
            display: none; /* JS ile aÃ§Ä±lacak */
            box-sizing: border-box;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* GiriÅŸ Animasyonu (SaÄŸdan Gelen) */
        .slide-in { display: block; animation: slideInRight 0.5s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes slideInRight { from{opacity:0; transform:translateX(100px) scale(0.9);} to{opacity:1; transform:translateX(0) scale(1);} }

        /* Ã‡Ä±kÄ±ÅŸ Animasyonu (Sola Giden) */
        .slide-out { display: block; animation: slideOutLeft 0.5s forwards ease-in; pointer-events: none; }
        @keyframes slideOutLeft { from{opacity:1; transform:translateX(0);} to{opacity:0; transform:translateX(-100px) scale(0.9);} }

        .q-number { color: var(--accent-gold); font-size: 14px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px; display: block; }
        .question-card h2 { font-size: 24px; margin-bottom: 30px; font-weight: 600; color: #fff; line-height: 1.4; }
        
        .opt-grid { display: flex; flex-direction: column; gap: 15px; }
        .opt-btn {
            padding: 18px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            color: #ddd; border-radius: 15px; text-align: left; cursor: pointer; transition: 0.2s;
            font-family: 'Poppins', sans-serif; font-size: 15px;
        }
        .opt-btn:hover { background: var(--accent-gold); color: #000; border-color: var(--accent-gold); transform: scale(1.02); }

        /* --- SONUÃ‡ KARTI --- */
        #result-screen { display: none; width: 100%; max-width: 900px; animation: fadeIn 1s ease; }
        .result-layout { 
            display: flex; gap: 40px; background: #151515; padding: 50px; border-radius: 40px;
            border: 1px solid #333; align-items: center;
        }
        .res-img-box { flex: 1; display: flex; justify-content: center; }
        .res-img-box img { max-height: 350px; filter: drop-shadow(0 10px 30px rgba(0,0,0,0.5)); }
        .res-content { flex: 1.5; text-align: left; }
        .res-brand { color: var(--accent-gold); font-weight: 700; letter-spacing: 2px; font-size: 14px; }
        .res-name { font-family: 'Syne', sans-serif; font-size: 40px; font-weight: 800; margin: 5px 0 20px 0; line-height: 1.1; }
        .notes-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 25px; padding-top: 25px; border-top: 1px solid #333; }
        
        @media(max-width: 768px) {
            .result-layout { flex-direction: column; padding: 30px; }
            .title { font-size: 2.5rem; }
        }
    </style>
</head>
<body>

    <nav>
        <a href="#" onclick="location.reload()">Home</a>
        <a href="#about" onclick="openAbout(event)">Creator</a>
    </nav>

    <div class="modal-overlay" id="aboutModal">
        <div class="about-card">
            <span class="close-modal" onclick="closeAbout()">&times;</span>
            <h2 style="font-family:'Syne'; color:var(--accent-gold); margin-bottom:15px;">Xaqec</h2>
            <p style="color:#aaa;">Estetik ve teknolojiyi birleÅŸtiren tasarÄ±mcÄ±.</p>
        </div>
    </div>

    <div class="background-flow" id="bg-flow"></div>

    <div class="hero-section">
        
        <div id="screen-welcome" class="screen active">
            <div class="glass-panel">
                <div class="char-wrapper">
                    <div class="bottle">
                        <div class="b-cap"></div>
                        <div class="b-body">
                            <div class="liquid"></div>
                            <div class="face">
                                <div class="eyes">
                                    <div class="eye"></div>
                                    <div class="eye"></div>
                                </div>
                                <div class="mouth"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <h1 class="title">SCENT PALETTE</h1>
                <p class="subtitle">Sana en uygun kokuyu bulmak iÃ§in cinsiyetini seÃ§.</p>
                
                <div class="btn-group">
                    <button class="btn btn-gender" onclick="startQuiz('female')">ðŸ‘© KADIN</button>
                    <button class="btn btn-gender" onclick="startQuiz('male')">ðŸ‘¨ ERKEK</button>
                </div>
            </div>
        </div>

        <div id="screen-quiz" class="screen">
            <div class="quiz-container" id="quiz-container">
                </div>
        </div>

        <div id="result-screen" class="screen">
            <div class="result-layout">
                <div class="res-img-box"><img id="res-img" src="" alt="ParfÃ¼m"></div>
                <div class="res-content">
                    <span class="res-brand" id="res-brand">MARKA</span>
                    <h1 class="res-name" id="res-name">Ä°sim</h1>
                    <p id="res-desc" style="color:#ccc; line-height:1.6;">AÃ§Ä±klama</p>
                    <div class="notes-grid">
                        <div><strong style="color:#fff; display:block; margin-bottom:5px;">ÃœST NOTALAR</strong><span id="res-top" style="color:#888;">...</span></div>
                        <div><strong style="color:#fff; display:block; margin-bottom:5px;">DÄ°P NOTALAR</strong><span id="res-base" style="color:#888;">...</span></div>
                    </div>
                    <button class="btn btn-gender" style="margin-top:30px; width:auto;" onclick="location.reload()">TEKRAR DENE</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        /* --- 1. ARKA PLAN OLUÅžTURUCU --- */
        const bgFlow = document.getElementById('bg-flow');
        const colCount = Math.ceil(window.innerWidth / 80); 
        for (let i = 0; i < colCount; i++) {
            const col = document.createElement('div');
            col.className = `flow-col ${i % 2 === 0 ? 'up' : 'down'}`;
            col.style.animationDuration = `${Math.random() * 10 + 20}s`;
            // Her sÃ¼tuna 10 CSS ÅŸiÅŸesi
            for (let j = 0; j < 10; j++) {
                const b = document.createElement('div');
                b.className = 'css-bottle';
                col.appendChild(b);
            }
            bgFlow.appendChild(col);
        }

        /* --- 2. VERÄ°TABANI --- */
        const DB = {
            female: [
                { cat:'romantik', brand:'GUCCI', name:'Bloom', img:'https://fimgs.net/mdimg/perfume/375x500.44894.jpg', desc:'Ã‡iÃ§ek bahÃ§esinde rÃ¼ya gibi bir yÃ¼rÃ¼yÃ¼ÅŸ.', top:'Rangoon SarmaÅŸÄ±ÄŸÄ±', base:'SÃ¼mbÃ¼lteber' },
                { cat:'sik', brand:'CHANEL', name:'Coco Mademoiselle', img:'https://fimgs.net/mdimg/perfume/375x500.611.jpg', desc:'Modern, Ã¶zgÃ¼r ve zarif kadÄ±nÄ±n imzasÄ±.', top:'Portakal', base:'PaÃ§uli' },
                { cat:'gizemli', brand:'TOM FORD', name:'Black Orchid', img:'https://fimgs.net/mdimg/perfume/375x500.1018.jpg', desc:'LÃ¼ks, karanlÄ±k ve baÅŸtan Ã§Ä±karÄ±cÄ±.', top:'TrÃ¼f MantarÄ±', base:'Bitter Ã‡ikolata' },
                { cat:'enerjik', brand:'D&G', name:'Light Blue', img:'https://fimgs.net/mdimg/perfume/375x500.1068.jpg', desc:'Akdeniz gÃ¼neÅŸi ve limon ferahlÄ±ÄŸÄ±.', top:'Limon', base:'Sedir AÄŸacÄ±' },
                { cat:'gurme', brand:'YSL', name:'Black Opium', img:'https://fimgs.net/mdimg/perfume/375x500.25324.jpg', desc:'Kahve ve vanilyanÄ±n tatlÄ± baÄŸÄ±mlÄ±lÄ±ÄŸÄ±.', top:'Armut', base:'Kahve' }
            ],
            male: [
                { cat:'maskulen', brand:'DIOR', name:'Sauvage', img:'https://fimgs.net/mdimg/perfume/375x500.31009.jpg', desc:'VahÅŸi doÄŸanÄ±n ve asilliÄŸin buluÅŸmasÄ±.', top:'Bergamot', base:'Ambroxan' },
                { cat:'sik', brand:'CHANEL', name:'Bleu de Chanel', img:'https://fimgs.net/mdimg/perfume/375x500.10786.jpg', desc:'Derin, odunsu ve aromatik bir klasik.', top:'Greyfurt', base:'Sandal AÄŸacÄ±' },
                { cat:'enerjik', brand:'VERSACE', name:'Eros', img:'https://fimgs.net/mdimg/perfume/375x500.16677.jpg', desc:'Tutku ve gÃ¼cÃ¼n mitolojik kokusu.', top:'Nane', base:'Vanilya' },
                { cat:'gizemli', brand:'TOM FORD', name:'Oud Wood', img:'https://fimgs.net/mdimg/perfume/375x500.1826.jpg', desc:'Nadir, egzotik ve ayÄ±rt edici.', top:'GÃ¼l AÄŸacÄ±', base:'Ã–d AÄŸacÄ±' },
                { cat:'centilmen', brand:'CREED', name:'Aventus', img:'https://fimgs.net/mdimg/perfume/375x500.9828.jpg', desc:'GÃ¼Ã§, vizyon ve baÅŸarÄ±nÄ±n kokusu.', top:'Ananas', base:'MeÅŸe Yosunu' }
            ]
        };

        /* --- 3. GENÄ°ÅžLETÄ°LMÄ°Åž SORULAR (10'ar Adet) --- */
        const QUESTIONS = {
            female: [
                { t: "Hafta sonu ideal planÄ±n?", opts: [["Evde bakÄ±m & Film", "romantik"], ["ÅžÄ±k bir akÅŸam yemeÄŸi", "sik"], ["Dans etmeye gitmek", "enerjik"], ["Sessiz bir kafe & Kitap", "gizemli"]] },
                { t: "Giyim tarzÄ±n?", opts: [["Ã‡iÃ§ekli ve uÃ§uÅŸ uÃ§uÅŸ", "romantik"], ["Simsiyah ve deri", "gizemli"], ["Spor ve rahat", "enerjik"], ["Marka ve ÅŸÄ±k", "sik"]] },
                { t: "En sevdiÄŸin tatlÄ±?", opts: [["Ã‡ikolatalÄ± sufle", "gurme"], ["Meyve tabaÄŸÄ±", "enerjik"], ["Cheesecake", "romantik"], ["TÃ¼rk kahvesi & Lokum", "sik"]] },
                { t: "ParfÃ¼mden beklentin?", opts: [["Beni gizemli kÄ±lsÄ±n", "gizemli"], ["Ferah hissettirsin", "enerjik"], ["LÃ¼ks koksun", "sik"], ["TatlÄ± olsun", "gurme"]] },
                { t: "Favori Ã§iÃ§eÄŸin?", opts: [["KÄ±rmÄ±zÄ± GÃ¼l", "romantik"], ["Orkide", "gizemli"], ["Papatya", "enerjik"], ["Zambak", "sik"]] },
                { t: "MÃ¼zik tercihin?", opts: [["Klasik / Caz", "sik"], ["Pop / Hareketli", "enerjik"], ["Akustik / Slow", "romantik"], ["Rock / Alternatif", "gizemli"]] },
                { t: "Sabah rutinin?", o: [["KoÅŸu yapmak", "enerjik"], ["Uzun bir kahvaltÄ±", "gurme"], ["Makyaj ve hazÄ±rlÄ±k", "sik"], ["Yatak keyfi", "romantik"]] },
                { t: "Tatil rotan?", opts: [["Paris", "romantik"], ["Maldivler", "enerjik"], ["Londra", "sik"], ["Kapadokya", "gizemli"]] },
                { t: "TakÄ± tercihin?", opts: [["AltÄ±n", "sik"], ["Ä°nci", "romantik"], ["GÃ¼mÃ¼ÅŸ", "enerjik"], ["DoÄŸal taÅŸ", "gizemli"]] },
                { t: "Ruh halin?", opts: [["Duygusal", "romantik"], ["NeÅŸeli", "enerjik"], ["DÃ¼ÅŸÃ¼nceli", "gizemli"], ["Ã–zgÃ¼venli", "sik"]] }
            ],
            male: [
                { t: "Ä°deal araban?", opts: [["Siyah Spor Araba", "gizemli"], ["Klasik Mercedes", "sik"], ["BÃ¼yÃ¼k Jeep", "maskulen"], ["ÃœstÃ¼ AÃ§Ä±k Cabrio", "enerjik"]] },
                { t: "Cuma gecesi?", opts: [["Oyun & Pizza", "enerjik"], ["Pub & ArkadaÅŸlar", "maskulen"], ["ÅžÄ±k Restoran", "sik"], ["Gece SÃ¼rÃ¼ÅŸÃ¼", "gizemli"]] },
                { t: "GardÄ±rop favorin?", opts: [["Deri Ceket", "maskulen"], ["TakÄ±m Elbise", "sik"], ["Beyaz T-Shirt", "enerjik"], ["BoÄŸazlÄ± Kazak", "gizemli"]] },
                { t: "Sporla aran?", opts: [["VÃ¼cut GeliÅŸtirme", "maskulen"], ["KoÅŸu / YÃ¼zme", "enerjik"], ["Tenis / Golf", "sik"], ["Ä°zleyiciyim", "gizemli"]] },
                { t: "Ä°Ã§ecek tercihin?", opts: [["Viski", "maskulen"], ["Åžarap", "sik"], ["Enerji Ä°Ã§eceÄŸi", "enerjik"], ["Sade Kahve", "gizemli"]] },
                { t: "Tatil anlayÄ±ÅŸÄ±n?", opts: [["Kamp yapmak", "maskulen"], ["LÃ¼ks otel", "sik"], ["SÃ¶rf yapmak", "enerjik"], ["KÃ¼ltÃ¼r turu", "gizemli"]] },
                { t: "AksesuarÄ±n?", opts: [["PahalÄ± Saat", "sik"], ["Deri Bileklik", "maskulen"], ["AkÄ±llÄ± Saat", "enerjik"], ["GÃ¼neÅŸ GÃ¶zlÃ¼ÄŸÃ¼", "gizemli"]] },
                { t: "MÃ¼zik?", opts: [["Rock / Metal", "maskulen"], ["Klasik / Caz", "sik"], ["Rap / HipHop", "enerjik"], ["Deep House", "gizemli"]] },
                { t: "Koku tercihin?", opts: [["Odunsu ve sert", "maskulen"], ["BaharatlÄ±", "gizemli"], ["Ferah okyanus", "enerjik"], ["Temiz sabunsu", "sik"]] },
                { t: "Hobi?", opts: [["Araba tamiri", "maskulen"], ["Borsa / Ä°ÅŸ", "sik"], ["Futbol", "enerjik"], ["FotoÄŸrafÃ§Ä±lÄ±k", "gizemli"]] }
            ]
        };

        let currentGender = null;
        let currentScores = {};
        let qIndex = 0;

        /* --- OYUN MANTIÄžI (KAYAN KARTLAR) --- */
        function startQuiz(gender) {
            currentGender = gender;
            currentScores = {};
            qIndex = 0;
            
            // Ekran deÄŸiÅŸtir
            document.getElementById('screen-welcome').style.display = 'none';
            document.getElementById('screen-quiz').classList.add('active');

            // SorularÄ± oluÅŸtur ama gizli tut
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';
            
            QUESTIONS[currentGender].forEach((q, idx) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q-${idx}`;
                
                // Ä°lk kartÄ± gÃ¶ster
                if(idx === 0) card.classList.add('slide-in');

                let html = `<span class="q-number">SORU ${idx + 1} / 10</span><h2>${q.t}</h2><div class="opt-grid">`;
                q.opts.forEach(opt => {
                    html += `<button class="opt-btn" onclick="answer('${opt[1]}')">${opt[0]}</button>`;
                });
                html += `</div>`;
                card.innerHTML = html;
                container.appendChild(card);
            });
        }

        function answer(category) {
            // Puan ekle
            if(!currentScores[category]) currentScores[category] = 0;
            currentScores[category]++;

            // Åžu anki kartÄ± kaydÄ±rarak Ã§Ä±kar
            const currentCard = document.getElementById(`q-${qIndex}`);
            currentCard.classList.remove('slide-in');
            currentCard.classList.add('slide-out');

            // SÄ±radaki kartÄ± getir
            qIndex++;
            const nextCard = document.getElementById(`q-${qIndex}`);
            
            if(nextCard) {
                // Animasyonun bitmesini beklemeden hemen gelmesi iÃ§in timeout Ã§ok kÄ±sa
                setTimeout(() => {
                    nextCard.classList.add('slide-in');
                }, 200); 
            } else {
                // Test Bitti -> SonuÃ§ Hesapla
                setTimeout(showResult, 500);
            }
        }

        function showResult() {
            document.getElementById('screen-quiz').style.display = 'none';
            const resultScreen = document.getElementById('result-screen');
            resultScreen.style.display = 'flex'; // Flex yapÄ±sÄ±nÄ± korumak iÃ§in
            
            // Kazanan kategori
            let winner = Object.keys(currentScores).reduce((a, b) => currentScores[a] > currentScores[b] ? a : b);
            
            // Havuzdan seÃ§
            let pool = DB[currentGender].filter(p => p.cat === winner);
            if(pool.length === 0) pool = DB[currentGender]; // Yedek
            
            const r = pool[Math.floor(Math.random() * pool.length)];

            document.getElementById('res-img').src = r.img;
            document.getElementById('res-brand').innerText = r.brand;
            document.getElementById('res-name').innerText = r.name;
            document.getElementById('res-desc').innerText = r.desc;
            document.getElementById('res-top').innerText = r.top;
            document.getElementById('res-base').innerText = r.base;
        }

        /* Modal FonksiyonlarÄ± */
        function openAbout(e) { e.preventDefault(); document.getElementById('aboutModal').classList.add('open'); }
        function closeAbout() { document.getElementById('aboutModal').classList.remove('open'); }
        
        /* 3D ÅžiÅŸe Hareketi */
        const bottle = document.querySelector('.bottle');
        window.addEventListener('mousemove', (e) => {
            if(bottle) {
                let x = (window.innerWidth / 2 - e.pageX) / 25;
                let y = (window.innerHeight / 2 - e.pageY) / 25;
                bottle.style.transform = `rotateY(${x}deg) rotateX(${y}deg)`;
            }
        });
    </script>
</body>
</html>
